<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pages &mdash; AERtronic-Lite-Documentation 1.0.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            AERtronic-Lite-Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="about.html">AERtronic Lite Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="tech.html">Languages and Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="src.html">Src</a></li>
<li class="toctree-l1"><a class="reference internal" href="main.html">Main</a></li>
<li class="toctree-l1"><a class="reference internal" href="functionality.html">Functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="functions.html">Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="inputs.html">Inputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="modbus.html">Modbus</a></li>
<li class="toctree-l1"><a class="reference internal" href="outputs.html">Outputs</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">AERtronic-Lite-Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Pages</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/pages.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pages">
<h1>Pages<a class="headerlink" href="#pages" title="Permalink to this heading"></a></h1>
<section id="nextion-display-functionality-module">
<h2>Nextion Display Functionality Module<a class="headerlink" href="#nextion-display-functionality-module" title="Permalink to this heading"></a></h2>
<p>This module contains a collection of functions designed to facilitate information management and display on a Nextion display. These functions are specifically tailored for use when the display’s active page is set to 24.</p>
</section>
<section id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this heading"></a></h2>
<dl class="simple">
<dt>page24()</dt><dd><p>This function is responsible for populating the Nextion display with relevant information when the active page is set to 24. It iterates through a predefined set of boxes, each representing a potential error or warning scenario. Based on the status of these boxes, the function sends corresponding error, warning, time, and date data to the Nextion display. This dynamic data presentation allows users to quickly identify and respond to critical events.</p>
</dd>
<dt>printEvents(maxEvent, eventPage)</dt><dd><p>This function serves the purpose of displaying stored events on the Nextion display. By retrieving event data stored in the system’s preferences, the function selectively transmits this information to the display. The transmission includes relevant event details and is augmented with visual cues like alarm or warning indicators, providing users with essential event context at a glance.</p>
</dd>
<dt>deleteEvents()</dt><dd><p>The deleteEvents function offers a way to manage the accumulation of event data by allowing users to wipe all stored events under the ‘eventos’ namespace. Through this operation, the function helps maintain a clutter-free event history, ensuring that only pertinent event data remains accessible.</p>
</dd>
<dt>deleteRegisters()</dt><dd><p>As its name suggests, this function addresses the management of maintenance records. By clearing stored maintenance data within the ‘maintenance’ namespace, deleteRegisters supports the efficient organization of maintenance-related information. This includes resetting various maintenance-related variables, aiding in maintaining accurate maintenance records.</p>
</dd>
<dt>rebootSystem()</dt><dd><p>In scenarios where a system reboot is necessary, the rebootSystem function provides a systematic approach. The function first introduces a delay of 5 seconds, allowing ongoing processes to conclude gracefully. After the delay, it triggers a system restart using the ESP.restart() function. This controlled reboot mechanism enhances system reliability and stability.</p>
</dd>
<dt>printMaintenances()</dt><dd><p>This function offers users insight into the number of maintenance records present in the system. By sending the count of maintenance records to the Nextion display, printMaintenances fosters transparency, empowering users to make informed decisions regarding maintenance operations.</p>
</dd>
<dt>printMaintenanceMessage()</dt><dd><p>Facilitating effective communication with users, printMaintenanceMessage generates graphical messages on the Nextion display. By strategically positioning circles, lines, and text, the function visually prompts users to perform necessary maintenance tasks. This visual guide simplifies user interaction and enhances the likelihood of timely and appropriate responses.</p>
</dd>
</dl>
</section>
<section id="module-dependencies">
<h2>Module Dependencies<a class="headerlink" href="#module-dependencies" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>pages.hpp: Provides page-related functions and definitions for the Nextion display.</p></li>
<li><p>Functionality.hpp: Offers utility functions for various system tasks.</p></li>
<li><p>Functions.hpp: Contains a collection of functions for different aspects of the system.</p></li>
<li><p>preferences.hpp: Provides functions to manage preferences and stored data.</p></li>
</ul>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;pages.hpp&quot;</span>
<span class="w"> </span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;Functionality.hpp&quot;</span>
<span class="w"> </span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;Functions.hpp&quot;</span>
<span class="w"> </span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;preferences.hpp&quot;</span>


<span class="w"> </span><span class="cm">/**</span>
<span class="cm"> * @brief Stores functionality for sending to the Nextion display when the page is 24</span>
<span class="cm"> */</span>
<span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">page24</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="n">String</span><span class="w"> </span><span class="n">box</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">boxMatrix</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="w">         </span><span class="k">if</span><span class="p">(</span><span class="n">box</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;EH1&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="n">printErrorWarningTimeDate</span><span class="p">(</span><span class="s">&quot;T&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">String</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">timeErrorh1</span><span class="p">,</span><span class="w"> </span><span class="n">dateErrorh1</span><span class="p">);</span>
<span class="w">         </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">box</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;WH1&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="n">printErrorWarningTimeDate</span><span class="p">(</span><span class="s">&quot;T&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">String</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">timeWarningh1</span><span class="p">,</span><span class="w"> </span><span class="n">dateWarningh1</span><span class="p">);</span>
<span class="w">         </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">box</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;EH2&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="n">printErrorWarningTimeDate</span><span class="p">(</span><span class="s">&quot;T&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">String</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">timeErrorh2</span><span class="p">,</span><span class="w"> </span><span class="n">dateErrorh2</span><span class="p">);</span>
<span class="w">         </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">box</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;WH2&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="n">printErrorWarningTimeDate</span><span class="p">(</span><span class="s">&quot;T&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">String</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">timeWarningh2</span><span class="p">,</span><span class="w"> </span><span class="n">dateWarningh2</span><span class="p">);</span>
<span class="w">         </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">box</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;EH3&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="n">printErrorWarningTimeDate</span><span class="p">(</span><span class="s">&quot;T&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">String</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">timeErrorh3</span><span class="p">,</span><span class="w"> </span><span class="n">dateErrorh3</span><span class="p">);</span>
<span class="w">         </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">box</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;WH3&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="n">printErrorWarningTimeDate</span><span class="p">(</span><span class="s">&quot;T&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">String</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">timeWarningh3</span><span class="p">,</span><span class="w"> </span><span class="n">dateWarningh3</span><span class="p">);</span>
<span class="w">         </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">box</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;EH0&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="n">printErrorWarningTimeDate</span><span class="p">(</span><span class="s">&quot;T&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">String</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">timeErrorh0</span><span class="p">,</span><span class="w"> </span><span class="n">dateErrorh0</span><span class="p">);</span>
<span class="w">         </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">box</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;WH0&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="n">printErrorWarningTimeDate</span><span class="p">(</span><span class="s">&quot;T&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">String</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">timeWarningh0</span><span class="p">,</span><span class="w"> </span><span class="n">dateWarningh0</span><span class="p">);</span>
<span class="w">         </span><span class="p">}</span>
<span class="w">     </span><span class="p">}</span>
<span class="w"> </span><span class="p">}</span>

<span class="w"> </span><span class="cm">/**</span>
<span class="cm">  * @brief Sends the stored events to the Nextion display</span>
<span class="cm"> */</span>
<span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">printEvents</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">maxEvent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">eventPage</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="n">events</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="s">&quot;eventos&quot;</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="w">     </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">maxEvent</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">13</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">maxEvent</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="n">String</span><span class="w"> </span><span class="n">currentEvent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">events</span><span class="p">.</span><span class="n">getString</span><span class="p">(</span><span class="s">&quot;event&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="kt">char</span><span class="p">(</span><span class="n">i</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>
<span class="w">         </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Eventos&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">String</span><span class="p">(</span><span class="n">eventPage</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;.e&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">String</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;.txt=</span><span class="se">\&quot;</span><span class="s">&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">currentEvent</span><span class="p">);</span>
<span class="w">         </span><span class="k">if</span><span class="p">(</span><span class="n">currentEvent</span><span class="p">[</span><span class="n">currentEvent</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;7&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot; Suction pressure alarm</span><span class="se">\&quot;</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">             </span><span class="n">endLine</span><span class="p">();</span>
<span class="w">         </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">currentEvent</span><span class="p">[</span><span class="n">currentEvent</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;8&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot; Suction pressure warning</span><span class="se">\&quot;</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">             </span><span class="n">endLine</span><span class="p">();</span>
<span class="w">         </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">currentEvent</span><span class="p">[</span><span class="n">currentEvent</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;1&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot; Final pressure alarm</span><span class="se">\&quot;</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">             </span><span class="n">endLine</span><span class="p">();</span>
<span class="w">         </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">currentEvent</span><span class="p">[</span><span class="n">currentEvent</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;2&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot; Final pressure warning</span><span class="se">\&quot;</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">             </span><span class="n">endLine</span><span class="p">();</span>
<span class="w">         </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">currentEvent</span><span class="p">[</span><span class="n">currentEvent</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;3&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot; Final temperature alarm</span><span class="se">\&quot;</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">             </span><span class="n">endLine</span><span class="p">();</span>
<span class="w">         </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">currentEvent</span><span class="p">[</span><span class="n">currentEvent</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;4&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot; Final temperature warning</span><span class="se">\&quot;</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">             </span><span class="n">endLine</span><span class="p">();</span>
<span class="w">         </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">currentEvent</span><span class="p">[</span><span class="n">currentEvent</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;5&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot; Oil temperature alarm</span><span class="se">\&quot;</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">             </span><span class="n">endLine</span><span class="p">();</span>
<span class="w">         </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">currentEvent</span><span class="p">[</span><span class="n">currentEvent</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;6&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot; Oil temperature warning</span><span class="se">\&quot;</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">             </span><span class="n">endLine</span><span class="p">();</span>
<span class="w">         </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot; </span><span class="se">\&quot;</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">             </span><span class="n">endLine</span><span class="p">();</span>
<span class="w">         </span><span class="p">}</span>
<span class="w">     </span><span class="p">}</span>
<span class="w">     </span><span class="n">events</span><span class="p">.</span><span class="n">end</span><span class="p">();</span>
<span class="w"> </span><span class="p">}</span>

<span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">deleteEvents</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="c1">//Deletes all preferences under the namespace</span>
<span class="w">     </span><span class="n">events</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="s">&quot;eventos&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="w">     </span><span class="n">events</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
<span class="w">     </span><span class="n">events</span><span class="p">.</span><span class="n">end</span><span class="p">();</span>
<span class="w">     </span><span class="n">contador</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">     </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;ResetEv.eText.txt=</span><span class="se">\&quot;</span><span class="s">Eventos eliminados</span><span class="se">\&quot;</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">     </span><span class="n">endLine</span><span class="p">();</span>
<span class="w"> </span><span class="p">}</span>

<span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">deleteRegisters</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="c1">//Deletes all preferences under this namaspace</span>
<span class="w">     </span><span class="n">register1</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="s">&quot;maintenance&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="w">     </span><span class="n">register1</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
<span class="w">     </span><span class="n">register1</span><span class="p">.</span><span class="n">end</span><span class="p">();</span>
<span class="w">     </span><span class="n">mhours</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">     </span><span class="n">mmotor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">     </span><span class="n">lmotor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">     </span><span class="n">m4hours</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">     </span><span class="n">m8hours</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">     </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;ResetMant.rText.txt=</span><span class="se">\&quot;</span><span class="s">Registros eliminados</span><span class="se">\&quot;</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">     </span><span class="n">endLine</span><span class="p">();</span>
<span class="w"> </span><span class="p">}</span>

<span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">rebootSystem</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="n">delay</span><span class="p">(</span><span class="mi">5000</span><span class="p">);</span>
<span class="w">     </span><span class="n">ESP</span><span class="p">.</span><span class="n">restart</span><span class="p">();</span>
<span class="w"> </span><span class="p">}</span>

<span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">printMaintenances</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;ConfirmarM.t0.txt=</span><span class="se">\&quot;</span><span class="s">&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">String</span><span class="p">(</span><span class="n">numberOfMaintenance</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\&quot;</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">     </span><span class="n">endLine</span><span class="p">();</span>
<span class="w"> </span><span class="p">}</span>

<span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">printMaintenanceMessage</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;cirs 150,40,30,0x42EE&quot;</span><span class="p">);</span>
<span class="w">     </span><span class="n">endLine</span><span class="p">();</span>
<span class="w">     </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;cirs 760,40,30,0x42EE&quot;</span><span class="p">);</span>
<span class="w">     </span><span class="n">endLine</span><span class="p">();</span>
<span class="w">     </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;line 150,10,760,10,0x42EE&quot;</span><span class="p">);</span>
<span class="w">     </span><span class="n">endLine</span><span class="p">();</span>
<span class="w">     </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;line 150,70,760,70,0x42EE&quot;</span><span class="p">);</span>
<span class="w">     </span><span class="n">endLine</span><span class="p">();</span>
<span class="w">     </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;fill 150,10,610,60,0x42EE&quot;</span><span class="p">);</span>
<span class="w">     </span><span class="n">endLine</span><span class="p">();</span>
<span class="w">     </span><span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;xstr 160,30,250,25,4,65535,63488,0,0,3,</span><span class="se">\&quot;</span><span class="s">Realizar mantenimiento</span><span class="se">\&quot;</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">     </span><span class="n">endLine</span><span class="p">();</span>
<span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="pages-header">
<h2>Pages header<a class="headerlink" href="#pages-header" title="Permalink to this heading"></a></h2>
<p>This header file defines a set of functions intended to manage and display information on a Nextion display when the active page is set to 24. These functions offer dynamic data presentation, event management, and system maintenance capabilities.</p>
</section>
<section id="id1">
<h2>Functions<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h2>
<dl class="simple">
<dt>page24()</dt><dd><p>This function is designed to be invoked when the active page on the Nextion display is set to 24. Its purpose is to populate the display with contextually relevant information based on the status of predefined boxes. The function facilitates the visualization of errors, warnings, time, and date data associated with specific scenarios.</p>
</dd>
<dt>printEvents(maxEvent, eventPage)</dt><dd><p>Responsible for displaying stored event data on the Nextion display, this function communicates event details to the user. It retrieves event information from the system’s preferences and presents it in a user-friendly format on the display. Visual indicators like alarm or warning icons provide immediate context about event severity.</p>
</dd>
<dt>deleteEvents()</dt><dd><p>This function allows users to manage the accumulation of event data by clearing all stored events within the ‘eventos’ namespace. By invoking this function, users can maintain a streamlined event history, focusing on critical events while eliminating obsolete ones.</p>
</dd>
<dt>deleteRegisters()</dt><dd><p>Addressing the management of maintenance records, this function clears stored maintenance data under the ‘maintenance’ namespace. It contributes to organized maintenance record keeping by resetting relevant variables and ensuring accurate records are maintained.</p>
</dd>
<dt>rebootSystem()</dt><dd><p>When a controlled system reboot is required, the rebootSystem function provides a systematic approach. It introduces a delay to allow ongoing processes to conclude and then initiates a system restart using the ESP.restart() function. This controlled reboot mechanism enhances system reliability and stability.</p>
</dd>
<dt>printMaintenances()</dt><dd><p>This function informs users about the number of maintenance records stored in the system. It communicates the count of maintenance records to the Nextion display, empowering users to make informed decisions regarding maintenance operations.</p>
</dd>
<dt>printMaintenanceMessage()</dt><dd><p>Offering visual guidance to users, this function generates graphical messages on the Nextion display. By positioning graphical elements strategically, it prompts users to perform required maintenance tasks. This visual approach simplifies user interaction and encourages timely responses.</p>
</dd>
</dl>
</section>
<section id="function-dependencies">
<h2>Function Dependencies<a class="headerlink" href="#function-dependencies" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Arduino.h: Core header providing fundamental definitions and functions for the Arduino platform.</p></li>
</ul>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Arduino.h&gt;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">page24</span><span class="p">();</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">printEvents</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">maxEvent</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">eventPage</span><span class="p">);</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">deleteEvents</span><span class="p">();</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">deleteRegisters</span><span class="p">();</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">rebootSystem</span><span class="p">();</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">printMaintenances</span><span class="p">();</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">printMaintenanceMessage</span><span class="p">();</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Ernesto Estrada.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>